$(document).ready(function(){$.fn.extend({zingify:function(options){if(options===undefined){options={}}if($(this).is("table")){return convertToChart.call(this,0,options)}else{var charts=[];$(this).find("table").each(function(i){charts.push(convertToChart.call(this,i,options))});return charts}function convertToChart(i,options){console.log("convertToChart:");console.log("	options =",JSON.stringify(options));var target=undefined;if(options.target!==undefined){target=$("#"+options.target)}else{target=$("<div></div>").insertAfter(this);options.target=(new Date).valueOf().toString();target.attr("id",options.target)}console.log("	target =",target);if(options.hideTable===true){$(this).hide()}$(target).width(options.hasOwnProperty("width")?options.width:"500px");$(target).height(options.hasOwnProperty("height")?options.height:"500px");var zingchartID=options.target+"_zc_chart";if(i>0)zingchartID+=i;console.log("zingchartID =",zingchartID);$(target).attr("id",zingchartID);var data={};var columns=$(this).find("thead th").map(function(){return $(this).text()});data["scale-x"]={label:{text:columns[0]},values:[]};data.series=[];for(var i=1;i<columns.length;i++){data.series.push({text:columns[i],values:[]})}$(this).find("tbody tr").each(function(){$(this).find("td").each(function(i){if(i===0){data["scale-x"].values.push($(this).html())}else{data.series[i-1].values.push(parseInt($(this).html()))}})});if($(this).find("caption").html()!==undefined){data.title={text:$(this).find("caption").html()}}data.legend={};var attributes=undefined;try{var jsonString=$(this).attr("data-zc")||$(this).attr("data-zingchart");attributes=JSON.parse(jsonString)}catch(err){console.log(err);attributes={}}$(this).each(function(){$.each(this.attributes,function(){if(this.specified){attributes[this.name]=this.value}})});for(var key in attributes){if(key.substring(0,14)==="data-zingchart"){newKey=key.replace("data-zingchart","data-zc");attributes[newKey]=attributes[key];delete attributes[key]}}for(var key in attributes){if(key.substring(0,8)!=="data-zc-"){delete attributes[key]}}var attrData={};for(var key in attributes){var attributeKey=key;key=key.substring(8);key=key.split("_");var temp=generateJSON(-1);function generateJSON(count){count++;if(count===key.length){return attributes[attributeKey]}else{var obj={};obj[key[count]]=generateJSON(count);return obj}}$.extend(attrData,temp)}$.extend(true,data,attrData);if(options.hasOwnProperty("data")){$.extend(true,data,options.data)}data["scaleX"]=data["scale-x"];return $(target).zingchart({data:data})}}})});