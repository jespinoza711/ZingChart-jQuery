<!DOCTYPE html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="../zingchart-html5-min_DEBUG.js"></script>
	
	<!--<script src="../zingchart.jquery.js"></script>-->
	<script src="../zingevents_extend_this.js"></script>
	

	<script>
		$(document).ready( function() {
			// example one
			var data = {
				"type": "bar",
				"legend":{},
				"series": [
					{
					  "values": [5,10,15,5,10,5]
					},
					{
					  "values": [10,5,10,10,5,10]
					},
					{
					  "values": [1,15,3,6,9,12]
					},
					{
					  "values": [4,7,9,1,2,1]
					},
				]
			};

			function makeRandomType(){
				var randomTypes = ["line","bar","hbar","piano","area","scatter"];
				var idx = Math.floor(Math.random()*randomTypes.length);
				console.log(randomTypes[idx]);
				return randomTypes[idx];
			}

			$('#ex_1').zingchart({data:data}).nodeClick(function(){
				$(this).setType(makeRandomType());
			});

			// example two
			var ex2_Data = {
				"graphset":[
				    {
				        "type":"bar",
				        "background-color":"transparent",
				        "plotarea":{
				            "margin-top":20
				        },
				        "plot":{
				            "bars-overlap":"100%",
				            "bar-width":"100%",
				            "color":"#838383",
				            "bar-space":"0px",
				            "padding":"0",
				            "hover-state":{
				                "background-color":"none"
				            }
				        },
				        "series":[
				            {
				                "values":[20,20,20,20,20],
				                "background-color":"#bbb",
				                "value-box":{
				                    "visible":0
				                },
				                "tooltip":{
				                    "visible":0
				                },
				                "max-trackers":0
				            },
				            {
				                "values":[["STRONG<br>BUY",5],
				                ["BUY",6],
				                ["HOLD",10],
				                ["SELL",3],
				                ["STRONG<br>SELL",7]],
				                "tooltip":{
				                    "visible":0,
				                    "text":"%v",
				                    "font-size":20,
				                    "color":"white",
				                    "background-color":"#444",
				                    "callout":1,
				                    "shadow":0,
				                    "border-radius":5,
				                    "width":36,
				                    "padding":6,
				                    "offset-y":-10,
				                    "hook":"node:plot=1;index=3"
				                },
				                "z-index":2,
				                "styles":[
				                    {
				                        "background-color":"#84D7E8"
				                    },
				                    {
				                        "background-color":"#84D7E8"
				                    },
				                    {
				                        "background-color":"#84D7E8"
				                    },
				                    {
				                        "background-color":"#84D7E8"
				                    },
				                    {
				                        "background-color":"#84D7E8"
				                    }
				                ]
				            }
				        ],
				        "scale-x":{
				            "line-color":"none",
				            "line-width":"3px",
				            "tick":{
				                "visible":false
				            },
				            "guide":{
				                "visible":false
				            },
				            "padding":"0",
				            "item":{
				                "color":"#838383",
				                "font-size":10,
				                "font-weight":"bold",
				                "font-family":"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif"
				            }
				        },
				        "scale-y":{
				            "visible":"false",
				            "guide":{
				                "visible":false
				            },
				            "padding":"0"
				        },
				        "-title":{
				            "text":"Recommendation",
				            "background-color":"none",
				            "color":"#838383",
				            "y":"0%",
				            "x":"7%",
				            "text-align":"left",
				            "font-family":"Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif"
				        }
				    }
				],
				"tween":null
			};
			$('#ex_2').zingchart({data:ex2_Data});

			function makeLabel(x) {
				return {
					"visible":1,
				    "id":"label1",
				    "text":x.event.value,
				    "font-size":"20px",
				    "color":"white",
				    "background-color":"#444",
				    "callout":1,
				    "shadow":0,
				    "border-radius":5,
				    "width":36,
				    "padding":6,
				    "offset-y":-30,
				    "hook":"node:plot="+x.event.plotindex+";index="+x.event.nodeindex
				}
			}

			function componentToHex(c) {
			    var hex = c.toString(16);
			    return hex.length == 1 ? "0" + hex : hex;
			}

			function rgbToHex(r, g, b) {
			    return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
			}

			function OMG_RAINBOWS(i){
				var red = Math.round(Math.sin(.3*i)*127+128);
				var green = Math.round(Math.sin(.3*i+2)*127+128);
				var blue = Math.round(Math.sin(.3*i+4)*127+128);
				return rgbToHex(red,green,blue);
			}

			$("#ex_2").nodeMouseOver(function(){
				$(this).addLabel(makeLabel(this));
			}).labelHover(function(){
				$(this).updateLabel({
					"id": "label1",
					"background-color":"#FFF",
					"color":"#444"
				});
			}, function(){
				$(this).updateLabel({
					"id":"label1",
					"background-color":"#444",
					"color":"#FFF"
				});
			});

			/*
			$("#ex_2").nodeHover(
				function(){
					$(this).addLabel(makeLabel(this));
				},
				function(){
					$(this).removeLabel("label1");
				}
			);
			*/

			// example three
			$('#ex_3').zingchart({data:data});
			$('#ex_3_button').click( function() {
			});
		});
	</script>

</head>
<body>
	
	<h1>Example 1: Basic Usage</h1>
	<p>The jQuery plugin for ZingChart allows devs to create and manipulate charts, and generally access the ZingChart API, in familiar jQuery syntax.</p>
	<p>The most basic usage of the plugin entails using jQuery to select an element to apply the chart to and calling .zingchart() on it:
	<pre>$('#myDiv').zingchart();</pre>
	<p>Technically this will initiate a ZingChart jQuery object on the selected element, but we want to pass in some data for ZingChart to work with. 
	The .zingchart() function takes one parameter, an object. This object 
	can contain a variety of key-value pairs. The main one you'll need in order to render a chart is 'data'. This should be another object that corresponds with
	the JSON data structure passed to ZingChart's render() function as the 'data' variable, and the syntax should be as described here: 
	<a href="http://www.zingchart.com/docs/json-attributes-syntax/">http://www.zingchart.com/docs/json-attributes-syntax/</a>.</p>
	<p>A basic example:</p>
	<pre>
		var data = {
			type: 'line',
			title: { text: 'zingchart w/ jquery' },
			series: [ 
				{ values: [5,3,1,7,7,6] },
				{ values: [3,5,7,9,10,12] }
			]
		};
		
		$('#myDiv').zingchart( { data: data } );
	</pre>
	<p>which will render something like this:</p>
	<div id="ex_1" class="zingchart"></div>
	<p>The data has now been rendered in the '#myDiv' element. In most cases though, you'll probably want to save the ZingChart jQuery object 
		you've just created to manipulate it later, e.g.:</p>
	<pre>var myChart = $('#myDiv').zingchart({ data: data });</pre>





	<h1>Example 2: Executing functions on the ZingChart jQuery object</h1>
	<p>Once you've created a zingchart object, you can execute function on it in regular jQuery fashion.</p>
	<pre>
		var data = {
			type: 'line',
			title: { text: 'zingchart w/ jquery' },
			series: [ 
				{ values: [5,3,1,7,7,6] },
				{ values: [3,5,7,9,10,12] }
			]
		};
		var myChart = $('#myDiv').zingchart( { data: data } );

		var newData = { type: "scatter" };

		$('#button').click( function() {
			myChart.setData( newData );
		});
	</pre>
	<button id="ex_2_button">set new data</button>
	<div id="ex_2" class="zingchart"></div>
	




	
	<h1>Example 3: Chaining on your ZingChart object</h1>
	<p>The returned ZingChart object can be chained just like a regular jQuery object. This allows you to do something like:</p>
	<pre>
		var myChart = $('#myDiv').zingchart( { data: data } );

		$('#button').click( function() {
			myChart.setData( { type: 'area' } ).title( 'new title' );
		});
	</pre>
	<button id="ex_3_button">change to area and reset title</button>
	<div id="ex_3" class="zingchart"></div>
	     
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<div id='one'></div>
	<div id='two'></div>
</body>
</html>
